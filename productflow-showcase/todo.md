# ProductFlow Web 应用开发任务清单

## 数据库设计
- [x] 设计 projects 表（存储用户的需求分析项目）
- [x] 设计 workflow_steps 表（存储每个项目的 9 个步骤的进度和输出）
- [x] 推送数据库 schema
- [x] 添加对话历史表（存储每个步骤的多轮对话记录）

## 后端 AI 工作流引擎
- [x] 实现 AI 调用封装函数（基于 invokeLLM）
- [x] 实现 Step 1-9 的 AI Prompt 和处理逻辑
- [x] 实现工作流自动推进逻辑（步骤串联）
- [x] 创建 tRPC procedures（项目 CRUD、步骤执行、AI 生成）
- [x] 支持同一步骤的多轮对话打磨
- [x] 支持步骤跳过功能
- [x] 优化步骤间数据传递的上下文管理

## 前端交互界面
- [x] 重构 Home 页面为项目列表页
- [x] 创建"新建项目"表单（输入原始需求）
- [x] 创建项目详情页（展示 9 步进度）
- [x] 创建步骤执行界面（实时显示 AI 生成结果）
- [x] 添加用户确认/编辑功能
- [x] 重构为线性步进式界面（向导模式）
- [x] 添加步骤内的多轮对话界面
- [x] 添加进度条和步骤导航
- [x] 支持步骤跳过按钮
- [x] 显示前置步骤依赖关系
- [x] 添加 PRD 导出功能

## 用户认证
- [x] 集成 Manus OAuth 登录
- [x] 添加用户项目权限控制

## 测试和优化
- [x] 编写 vitest 测试用例
- [x] 测试完整工作流（从输入需求到生成 PRD）
- [x] 测试多轮对话功能
- [x] 测试步骤跳过功能
- [ ] 优化 AI 生成速度和质量
- [x] 优化用户体验（加载状态、错误处理）

## 文档和交付
- [x] 创建产品经理友好的维护指南
- [x] 创建前端优化 Skills（设计系统、组件库使用）
- [x] 创建后端开发 Skills（避免常见错误、最佳实践）
- [ ] 打包最终代码
